# 声纹分析系统

这是一个基于Web的声纹分析系统，可以对音频进行实时分析、可视化展示，并支持声纹对比功能。

## 功能特点

### 1. 声纹分析
- 实时波形显示
- 频谱图分析
- 音频特征提取（基频、谐波、频谱质心等）

### 2. 录音功能
- 实时录音
- 录音波形可视化
- 录音回放
- 音频文件上传

### 3. 声纹对比
- 双音频并行分析
- 声纹相似度计算
- 综合判断结论

## 项目结构
/js
├── analyzer/
│   ├── AudioAnalyzer.js      # 音频分析核心类
│   ├── CompareAnalyzer.js    # 声纹对比分析
│   ├── FeatureAnalyzer.js    # 声纹特征分析
│   └── Visualizer.js         # 可视化相关功能
├── controllers/
│   ├── AudioController.js    # 音频控制（播放、暂停等）
│   ├── RecordController.js   # 录音控制（主页面）
│   └── RecordControllerPlus.js # 录音控制（对比页面）
├── utils/
│   ├── TimeFormatter.js      # 时间格式化工具
│   └── AudioContext.js       # 音频上下文管理
└── main.js                   # 主入口文件

## 使用指南

### 声纹分析页面

1. **录制音频**
   - 点击"开始录音"按钮开始录制
   - 录音时可以看到实时波形显示
   - 再次点击按钮停止录音

2. **上传音频文件**
   - 点击"上传音频"按钮选择音频文件
   - 支持格式：WAV, MP3, OGG等常见音频格式

3. **音频控制**
   - 使用播放/暂停按钮控制音频播放
   - 通过进度条调整播放位置
   - 可以查看当前播放时间和总时长

4. **查看分析结果**
   - 实时波形显示在上方画布中
   - 下方显示详细的音频特征数据
   - 所有数据实时更新

### 声纹对比页面

1. **准备音频**
   - 在左右两个面板分别录制或上传音频
   - 可以使用相同的录音和上传功能

2. **进行对比**
   - 当两段音频都准备好后，系统自动进行对比
   - 等待对比分析完成（通常只需几秒钟）

3. **查看对比结果**
   - 基础相似度指标
     * 声纹相似度
     * 音色匹配度
     * 语音特征匹配度
   
   - 详细特征对比
     * 谐波结构
     * 频谱包络
     * 音色亮度
     * 语速相似度
     * 音高变化
     * 能量分布

   - 对比结论
     * 系统会根据综合分析给出判断结论
     * 包含音色和语音特征的具体匹配程度

## 注意事项

1. **环境要求**
   - 现代浏览器（Chrome、Firefox、Edge等）
   - 需要麦克风权限（录音功能）
   - 稳定的网络连接

2. **使用建议**
   - 保持安静的录音环境
   - 录音时间建议3-10秒
   - 避免背景噪音干扰
   - 保持稳定的说话音量

3. **对比建议**
   - 对比的音频内容相近
   - 录音环境尽量一致
   - 避免过短的音频片段
   - 注意音量水平的一致性

## 技术栈

### Web技术
- Web Audio API（音频处理）
- Canvas API（可视化显示）
- JavaScript ES6+（模块化开发）

### 音频分析算法
- 快速傅里叶变换 (FFT)
- 过零率检测 (ZCR)
- 频谱质心计算
- 声纹特征匹配